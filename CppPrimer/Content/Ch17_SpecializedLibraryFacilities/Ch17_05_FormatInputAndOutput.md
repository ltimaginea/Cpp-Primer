# *format input and output*

每个iostream对象维护一个格式状态来控制IO如何格式化的细节。格式状态控制格式化的某些方面，如整型值是几进制、浮点值的精度、一个输出元素的宽度等。 

标准库定义了一组操纵符（manipulator）来修改流的格式状态。一个操纵符是一个函数或是一个对象，会影响流的状态，并能用作输入或输出运算符的运算对象。类似输入和输出运算符，操纵符也返回它所处理的流对象，因此我们可以在一条语句中组合操纵符和数据。

大多数改变格式状态的操纵符都是设置/复原成对的；一个操纵符用来将格式状态设置为一个新值，而另一个用来将其复原，恢复为正常的默认格式。当操纵符改变流的格式状态时，通常改变后的状态对所有后续IO都生效。因此，通常最好在不再需要特殊格式时尽快将流恢复到默认状态。

## 控制布尔值的格式

默认情况下，一个true值输出为整数1，而false输出为0。我们可以通过对流使用 `boolalpha` 操纵符来使布尔值输出为字符串，使用 `noboolalpha` 来恢复到默认状态。

```cpp
bool is = false;
cout << boolalpha << is << noboolalpha << endl;
```

## 指定整数值的进制

默认情况下，整型值的输入输出使用十进制。我们可以使用操纵符 `hex` 、 `oct` 和 `dec` 将其改为十六进制、八进制或是改回十进制。操纵符hex、oct和dec只影响整型运算对象，浮点值的表示形式不受影响。

使用 `showbase` 操纵符显示进制前缀，使用 `uppercase` 操纵符来输出大写的 X 并将十六进制数字 a-f 以大写输出。

进制前缀规范：前缀 0x 表示十六进制；前缀 0 表示八进制；无前缀字符串表示十进制。

```cpp
cout << showbase << uppercase << hex;
cout << UINT32_MAX << endl;
cout << noshowbase << nouppercase << dec;
```

## 控制浮点数格式

默认情况下，浮点值按六位数字精度打印；如果浮点值没有小数部分，则不打印小数点；根据浮点数的值选择打印成定点十进制或科学记数法形式。标准库会选择一种可读性更好的格式：非常大和非常小的值打印为科学记数法形式，其他值打印为定点十进制形式。

### 指定打印精度

默认情况下，精度会控制打印的数字的总数。当打印时，浮点值按当前精度四舍五入而非截断。

我们可以通过调用IO对象的 `precision` 成员或使用 `setprecision` 操纵符来改变精度。precision成员是重载的。一个版本接受一个int值，将精度设置为此值，并返回旧精度值。另一个版本不接受参数，返回当前精度值。setprecision操纵符接受一个参数，用来设置精度。

```cpp
// 返回当前精度值
auto prec = cout.precision();
cout << prec << endl;
cout << sqrt(2.0) << endl;
cout.precision(12);
cout << sqrt(2.0) << endl;
cout << setprecision(7);
cout << sqrt(2.0) << endl;
cout << setprecision(prec);
```



### 指定浮点数记数法

### 打印小数点





## 输出补白

## 控制输入格式

